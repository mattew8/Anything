{% extends 'base.html' %}

{%block title%}post_detail{%endblock%}
{% block content %}
{% load static %}
    <h2>{{object.title}}</h2>
    <p>
        {% if object.get_previous %}
        <a href="{{ object.get_previous.get_absolute_url }}" title="View previoust post?">
            &laquo;-- {{ object.get_previous }}
            <!-- &laquo; -> htmlíŠ¹ìˆ˜ë¬¸ìž -->
        </a>

        {% else %}
        no page

        {% endif %}

        ðŸ“„ðŸ“Œ
        
        {% if object.get_next %}
        <a href="{{ object.get_next.get_absolute_url }}" title="View next post?">
            {{ object.get_next }} --&raquo;
            <!-- &laquo; -> htmlíŠ¹ìˆ˜ë¬¸ìž -->
        </a>
        {% else %}
        no page

        {% endif %}
    </p>
    
    <!-- post_detail -->
    <p>{{ object.modify_dt|date:"j F Y" }}</p>
    <br>
    <div>
        {{ object.content|linebreaks}}
        <!-- |linebreaks -> ìƒˆë¡œìš´ lineì„ ì¸ì‹í•˜ê²Œ í•¨ -->
        {% if object.image %}
        <img src="{{object.image.url}}">
        {% endif %}
        <form method="POST" action="{% url 'blogs:likes' object.id object.slug%}">
            {% csrf_token %}
            <input type="submit" value="ì¢‹ì•„ìš”">
        </form>
       
        {{object.likes.count}}
    </div>
    <br>


    <!-- Comment -->
    <div>
        <form method="POST" action="{% url 'blogs:create_comment' object.id object.slug %}">
            {%csrf_token%}
            {{commentform}}
            <input type="submit" value="ìž‘ì„±">
        </form>
        {% for comments in object.comment_set.all %}
        <span>comments : {{comments.body}}
            <a href="{% url 'blogs:delete_comment' comments.id object.slug%}">ì‚­ì œ</a>
            {% for recomments in comments.recomment_set.all %}
            <br>recomments : {{recomments.body}}
            <a href="{% url 'blogs:delete_recomment' recomments.id object.slug %}">ì‚­ì œ</a>
            {% endfor %}
            <form method="POST" action="{% url 'blogs:create_recomment' comments.id object.slug %}">
                {%csrf_token%}
                {{recommentform}}
                <input type="submit" value="ìž‘ì„±">
            </form>
        </span><br>
        {% endfor %}
    </div>

    <!-- TAG -->
    <div>
        <b>TAGS</b><i class="fas fa-tag"></i>
        {% load taggit_templatetags2_tags %}
        <!-- taggit_templatetags2 <- ìš” íŒ¨í‚¤ì§€ì— ì •ì˜ëœ ì»¤ìŠ¤í…€ íƒœê·¸ ì´ìš© ìœ„í•´ í˜¸ì¶œ!-->
        {% get_tags_for_object object as "tags" %}
        <!-- ìš”ë†ˆì´ ê·¸ ì»¤ìŠ¤í…€ íƒœê·¸! object ê°ì²´(viewì—ì„œ ë³´ë‚´ì¤€ Postëª¨ë¸)
            ì— ë‹¬ë ¤ ìžˆëŠ” íƒœê·¸ë“¤ì˜ ë¦¬ìŠ¤íŠ¸ ì¶”ì¶œ -> ì´ë¥¼ tagsë¡œ ì •ì˜í•´ htmlì—ì„œ ì‚¬ìš©-->
        {% for tag in tags %}
        <a href="{% url 'blogs:tagged_object_list' tag.name %}">{{tag.name}}</a>
        <!-- .nameì€ ì–´ë””ì—? -> taggit íŒ¨í‚¤ì§€-Tag í…Œì´ë¸”ì—! -->
        {% endfor %} 
        &emsp;
        <a href="{% url 'blogs:tag_cloud' %}"><span>TAGCLOUD</span></a>
    </div>

    

{%endblock%}
